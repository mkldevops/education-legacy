{% trans_default_domain 'layout' %}

{# Enhanced Breadcrumb Component #}
{% if breadcrumbs is defined and breadcrumbs is not empty %}
    <nav class="flex mb-4" aria-label="Breadcrumb">
        <ol class="flex items-center space-x-1">
            {% for name, path_name in breadcrumbs %}
                <li class="flex items-center">
                    {% if not loop.first %}
                        <!-- Enhanced Separator -->
                        <div class="flex items-center justify-center w-6 h-6 mx-2">
                            {{ ux_icon('bi:chevron-right', {class: 'w-3 h-3 text-gray-400 transition-colors duration-200'}) }}
                        </div>
                    {% endif %}

                    {% if loop.last %}
                        <!-- Current Page (Active State) -->
                        <span class="inline-flex items-center px-3 py-2 text-sm font-semibold text-primary-700 bg-gradient-to-r from-primary-50 to-primary-100 rounded-xl border border-primary-200 shadow-sm">
                            {{ ux_icon('bi:check-circle', {class: 'w-4 h-4 mr-2 text-primary-600'}) }}
                            {{ name|capitalize }}
                            <div class="ml-2 w-1.5 h-1.5 bg-primary-500 rounded-full"></div>
                        </span>
                    {% else %}
                        <!-- Clickable Breadcrumb Item -->
                        <a href="{{ path_name }}" 
                           class="inline-flex items-center px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-800 bg-white hover:bg-gradient-to-r hover:from-gray-50 hover:to-gray-100 rounded-xl border border-gray-200 hover:border-gray-300 shadow-sm hover:shadow-md transition-all duration-200 group hover:translate-x-1">
                            <!-- Dynamic Icon Based on Level -->
                            {% if loop.first %}
                                {{ ux_icon('bi:house', {class: 'w-3 h-3 mr-2 text-gray-400 group-hover:text-gray-600 transition-colors duration-200'}) }}
                            {% else %}
                                {{ ux_icon('bi:clipboard', {class: 'w-3 h-3 mr-2 text-gray-400 group-hover:text-gray-600 transition-colors duration-200'}) }}
                            {% endif %}
                            {{ name|capitalize }}
                        </a>
                    {% endif %}
                </li>
            {% endfor %}
        </ol>
    </nav>
{% endif %}